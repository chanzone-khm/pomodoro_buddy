# 🍅 ポモドーロバディ バックログ

## MVP（P0）- 最小実用版に必須

### Sprint 1: コアタスク管理機能

- [ ] **Story 1-1** 今日の🍅プラン枠を用意
  - [ ] ポップアップ上部にスロット表示コンポーネント作成
  - [ ] 設定可能なスロット数（デフォルト6）
  - [ ] 総スロット数と使用数の表示
  - [ ] スロットのグレー表示（空の場合）

- [ ] **Story 1-2** タスクカードをバックログから選択／配置
  - [ ] Backlog列にタスクリスト表示
  - [ ] ドラッグ&ドロップ機能実装
  - [ ] スロットクリック→プルダウン選択機能
  - [ ] 配置時にステータス自動更新（pending → doing）

- [ ] **Story 1-3** タスクに必要な🍅数を予約
  - [ ] 見積もりポモドーロ数入力モーダル
  - [ ] スロットに連番タスクID保持機能
  - [ ] タスクカードに🍅0/n表示
  - [ ] 予約済みスロットの着色

- [ ] **Story 1-4** ポモドーロ完了でタスク実績を自動加算
  - [ ] タイマー完了時のアクティブスロット決定ロジック
  - [ ] タスク実績カウント自動更新
  - [ ] リアルタイム表示更新
  - [ ] 完了時の自動ステータス変更（doing → done）

- [ ] **Story 1-5** カンバンで状態を俯瞰
  - [ ] 3列レイアウト（Backlog/Doing/Done）実装
  - [ ] ステータス別自動分類
  - [ ] Done→Backlogへのドラッグ機能
  - [ ] 縦スクロール対応

### Sprint 2: データ構造と永続化

- [ ] **データモデル拡張**
  - [ ] DayPlan型定義追加
  - [ ] Slot型定義追加
  - [ ] TaskのestimateとactualPomodoros追加
  - [ ] chrome.storage.localへの保存機能

- [ ] **パフォーマンス最適化**
  - [ ] D&Dライブラリ選定・導入（@dnd-kit推奨）
  - [ ] アクセシビリティ対応（キーボード操作）

## 次期リリース（P1）- MVP後すぐ欲しい

### Sprint 3: 高度な計画機能

- [ ] **Story 2-1** スロットのリピートタスク予約
  - [ ] リピート設定機能（daily/weekly）
  - [ ] 新DayPlan生成時の自動配置

- [ ] **Story 2-2** 統計タブ：日別🍅vs実績チャート
  - [ ] 週次ビューの実装
  - [ ] ポモドーロ実行数と達成率表示
  - [ ] チャートライブラリ導入

- [ ] **Story 2-3** 設定でスロット数・セッション長を変更
  - [ ] 設定画面の拡張
  - [ ] 50分サイクル対応
  - [ ] 柔軟なスロット数設定

## 将来追加（P2）- 後から追加可能

### Sprint 4: カスタマイズ機能

- [ ] **Story 3-1** カンバン列のカスタム編集
  - [ ] カスタム列追加機能
  - [ ] レビュー待ちなど独自ステータス

## 技術要件

- [ ] **テスト実装**
  - [ ] Vitestでユニットテスト
  - [ ] E2E stub実装
  - [ ] 「予約→完了」シナリオ自動化

- [ ] **Service Worker対応**
  - [ ] chrome.alarms方式でスリープ問題回避

## 完了定義

各ストーリーは以下の条件を満たした時点で完了とする：
1. 機能が期待通りに動作する
2. コードレビューが完了している
3. テストが通過している
4. ドキュメントが更新されている
